# Архитектура проекта Clipboard History Manager

## Обзор

Проект был рефакторен для улучшения организации кода и поддержки. Теперь код разделен на логические модули с четкой структурой.

## Структура файлов

```
/
├── index.html              # Основной HTML файл
├── styles/
│   └── main.css           # Стили с CSS переменными
├── js/
│   └── clipboardHistory.js # Основная логика приложения
├── main.js                # Electron main process
├── package.json           # Зависимости проекта
└── ARCHITECTURE.md        # Документация архитектуры
```

## Компоненты

### 1. HTML (index.html)
- **Назначение**: Структура пользовательского интерфейса
- **Особенности**: 
  - Подключение внешних стилей
  - Минимальный HTML без встроенных стилей и скриптов
  - Семантическая разметка

### 2. Стили (styles/main.css)
- **Назначение**: Все стили приложения с CSS переменными
- **Особенности**:
  - CSS переменные для цветов, размеров, анимаций
  - Модульная структура стилей
  - Адаптивный дизайн
  - Кастомный скроллбар

#### CSS переменные:
```css
:root {
    --primary-color: #667eea;
    --danger-color: #ff4757;
    --success-color: #4CAF50;
    --text-color: #333;
    --border-radius-medium: 8px;
    --transition-fast: 0.3s ease;
    /* и другие... */
}
```

### 3. JavaScript (js/clipboardHistory.js)
- **Назначение**: Вся логика приложения
- **Структура**:
  - Конфигурация (CONFIG)
  - Утилиты (Utils)
  - Основной класс (ClipboardHistory)

#### Конфигурация (CONFIG)
Централизованные настройки приложения:
- Настройки истории (максимальное количество элементов)
- Сообщения пользователю
- Селекторы DOM элементов
- CSS классы
- Настройки локализации

#### Утилиты (Utils)
Переиспользуемые функции:
- `escapeHtml()` - экранирование HTML
- `formatDate()` - форматирование дат
- `truncateText()` - обрезка текста
- `showNotification()` - показ уведомлений

#### Класс ClipboardHistory
Основная логика приложения:
- Управление историей буфера обмена
- Взаимодействие с Electron IPC
- Рендеринг UI
- Обработка событий

## Преимущества новой архитектуры

### 1. Разделение ответственности
- HTML отвечает только за структуру
- CSS отвечает только за стили
- JavaScript отвечает только за логику

### 2. Переиспользование
- CSS переменные позволяют легко изменять дизайн
- Утилиты можно использовать в разных частях приложения
- Конфигурация централизована

### 3. Поддержка
- Легко найти и изменить нужную часть кода
- Четкая структура файлов
- Документированный код

### 4. Масштабируемость
- Легко добавлять новые функции
- Модульная структура
- Конфигурируемые настройки

## Использование

### Изменение цветовой схемы
Отредактируйте CSS переменные в `styles/main.css`:
```css
:root {
    --primary-color: #your-color;
    --danger-color: #your-danger-color;
    /* и т.д. */
}
```

### Изменение сообщений
Отредактируйте объект `MESSAGES` в `js/clipboardHistory.js`:
```javascript
MESSAGES: {
    EMPTY_HISTORY: {
        TITLE: 'Ваш заголовок',
        DESCRIPTION: 'Ваше описание'
    }
    // и т.д.
}
```

### Добавление новых функций
1. Добавьте новые методы в класс `ClipboardHistory`
2. При необходимости добавьте новые утилиты в объект `Utils`
3. Обновите конфигурацию в `CONFIG`

## Совместимость

- Electron 20+
- Node.js 16+
- Современные браузеры (для CSS переменных)

## Рекомендации по разработке

1. **Стили**: Используйте CSS переменные для всех цветов и размеров
2. **JavaScript**: Следуйте принципам ООП и модульности
3. **Конфигурация**: Все настройки должны быть в объекте `CONFIG`
4. **Утилиты**: Переиспользуемые функции должны быть в объекте `Utils`
5. **Документация**: Комментируйте сложные части кода
